<div class="card">
  <h3>Programmes disponibles</h3>

  <input
    type="text"
    [(ngModel)]="searchText"
    placeholder="Rechercher un programme..."
    class="form-control search-bar"
  />

  <div class="button-row">
  <button (click)="ExtraireDonnees()" [disabled]="isLoading" class="extract-btn">
    {{ isLoading ? 'Extraction en cours...' : 'Extraire' }}
  </button>

  <button (click)="showFilter = true" class="filter-btn">
    Ajouter un filtre personnalisé
  </button>
</div>

<app-frontend-filter
  *ngIf="showFilter"
  (apply)="onFilterApplied($event)"
  (close)="showFilter = false">
</app-frontend-filter>
</div>

  <table class="programmes-table">
    <thead>
  <tr>
    <th>
      <input
        type="checkbox"
        [(ngModel)]="allSelected"
        (change)="toggleAll()"
      />
    Tout selectionner
    </th>
    <th>Nom du programme</th>
    <th>Date début</th>
    <th>Date fin</th>
    <th>Acteur</th>
  </tr>
</thead>
    <tbody>
      <tr *ngFor="let prog of filteredProgrammes">
        <td><input type="checkbox" [(ngModel)]="prog.checked" name="{{ prog.name }}" /></td>
        <td>{{ prog.name }}</td>
        <td>{{ prog.startDate || '' }}</td>
        <td>{{ prog.endDate || '' }}</td>
        <td>{{ prog.actor || '' }}</td>
      </tr>
    </tbody>
  </table>


<p>{{ message }}</p>

<!-- Affichage des fichiers extraits -->
<app-extracted-links [files]="extractedFiles"></app-extracted-links>

